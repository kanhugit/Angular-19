<div class="container mt-5">
  <h2 class="text-center text-primary">KYC Form</h2>

  <form #kycForm="ngForm" (ngSubmit)="onSubmit(kycForm)" novalidate>
    
    <!-- Full Name -->
    <div class="mb-3">
      <label class="form-label">Full Name</label>
      <input 
        type="text" 
        name="fullName" 
        class="form-control"
        [(ngModel)]="kycModel.fullName" 
        #fullName="ngModel"
        required minlength="3" />
      <div class="text-danger" *ngIf="fullName.invalid && fullName.touched">
        <small *ngIf="fullName.errors?.['required']">Name is required.</small>
        <small *ngIf="fullName.errors?.['minlength']">Name must be at least 3 characters.</small>
      </div>
    </div>

    <!-- Email -->
    <div class="mb-3">
      <label class="form-label">Email</label>
      <input 
        type="email" 
        name="email" 
        class="form-control"
        [(ngModel)]="kycModel.email" 
        #email="ngModel"
        required email />
      <div class="text-danger" *ngIf="email.invalid && email.touched">
        <small *ngIf="email.errors?.['required']">Email is required.</small>
        <small *ngIf="email.errors?.['email']">Invalid email format.</small>
      </div>
    </div>

    <!-- Phone -->
    <div class="mb-3">
      <label class="form-label">Phone</label>
      <input 
        type="tel" 
        name="phone" 
        class="form-control"
        [(ngModel)]="kycModel.phone" 
        #phone="ngModel"
        required pattern="^[0-9]{10}$" />
      <div class="text-danger" *ngIf="phone.invalid && phone.touched">
        <small *ngIf="phone.errors?.['required']">Phone number is required.</small>
        <small *ngIf="phone.errors?.['pattern']">Must be a 10-digit number.</small>
      </div>
    </div>

    <!-- Date of Birth -->
    <div class="mb-3">
      <label class="form-label">Date of Birth</label>
      <input 
        type="date" 
        name="dob" 
        class="form-control"
        [(ngModel)]="kycModel.dob" 
        #dob="ngModel"
        required />
      <div class="text-danger" *ngIf="dob.invalid && dob.touched">
        <small>Date of Birth is required.</small>
      </div>
    </div>

    <!-- PAN Card -->
    <div class="mb-3">
      <label class="form-label">PAN Number</label>
      <input 
        type="text" 
        name="pan" 
        class="form-control"
        [(ngModel)]="kycModel.pan" 
        #pan="ngModel"
        required pattern="[A-Z]{5}[0-9]{4}[A-Z]{1}" />
      <div class="text-danger" *ngIf="pan.invalid && pan.touched">
        <small *ngIf="pan.errors?.['required']">PAN is required.</small>
        <small *ngIf="pan.errors?.['pattern']">Invalid PAN format (e.g. ABCDE1234F).</small>
      </div>
    </div>

    <!-- Address -->
    <div class="mb-3">
      <label class="form-label">Address</label>
      <textarea 
        name="address" 
        class="form-control"
        [(ngModel)]="kycModel.address" 
        #address="ngModel"
        required minlength="10"></textarea>
      <div class="text-danger" *ngIf="address.invalid && address.touched">
        <small *ngIf="address.errors?.['required']">Address is required.</small>
        <small *ngIf="address.errors?.['minlength']">Address must be at least 10 characters.</small>
      </div>
    </div>

    <!-- Submit Button -->
    <button type="submit" class="btn btn-success w-100" [disabled]="kycForm.invalid">
      Submit KYC
    </button>
  </form>

  <!-- Success Message -->
  <div *ngIf="submitted" class="alert alert-success mt-4">
    âœ… KYC Submitted Successfully!  
    <pre>{{ kycModel | json }}</pre>
  </div>
</div>
